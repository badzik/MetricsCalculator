@model MetricsApp.ViewModels.ProjectQualityViewModel
@using MetricsApp.ViewModels


<div class="container-fluid">
    <input type="hidden" id="projectQuality" value="@Model.ProjectQuality.ProjectQuality" />
    <input type="hidden" id="codeQualityRatio" value="@Model.ProjectQuality.CodeQualityRatio" />
    <input type="hidden" id="minorIssues" value="@Model.ProjectQuality.MinorIssuesRatio" />
    <input type="hidden" id="knownIssues" value="@Model.ProjectQuality.KnownIssuesRatio" />

    <input type="hidden" id="complexity" value="@Model.ProjectQuality.CodeQuality.ComplexityRatio" />
    <input type="hidden" id="duplicatedLines" value="@Model.ProjectQuality.CodeQuality.DuplicatedLinesRatio" />
    <input type="hidden" id="majorIssues" value="@Model.ProjectQuality.CodeQuality.MajorIssuesRatio" />
    <input type="hidden" id="testUncoverage" value="@Model.ProjectQuality.CodeQuality.TestUncoverageRatio" />
    <input type="hidden" id="codeQuality" value="@Model.ProjectQuality.CodeQuality.CodeQuality" />

    <div class="row">
        <div class="col-lg-7">
            <div class="card mb-3">
                <div class="card-header">
                    <i class="fa fa-cogs"></i> Project Quality
                </div>
                <div class="card-body">
                    <h4><b>Project Quality:</b></h4>
                    <h4 id="projectQualityBox"><b id="projectQualityVal">@Model.ProjectQuality.ProjectQuality</b>/100</h4>
                </div>
                <div class="card-footer small text-muted">Updated at @DateTime.Now</div>
            </div>
        </div>
        <div class="col-lg-5">
            <!-- Project quality pie chart-->
            <div class="card mb-3">
                <div class="card-header">
                    <i class="fa fa-pie-chart"></i> Project quality factors
                </div>
                <div class="card-body">
                    <canvas id="qualityFactorsPieChart" width="100" height="100"></canvas>
                </div>
                <div class="card-footer small text-muted">Updated at @DateTime.Now</div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-lg-12">
            <div class="card mb-3">
                <div class="card-header">
                    <i class="fa fa-cogs"></i>Estimated release times
                </div>
                <div class="card-body">
                    <h4>Estimated time to beta release:<b>@Model.EstimatedTimeToBetaRelease.TotalHours.ToString("0.00")</b> hours</h4>
                    <h4>Estimated time to full release:<b>@Model.EstimatedTimeToFullRelease.TotalHours.ToString("0.00")</b> hours</h4>
                </div>
                <div class="card-footer small text-muted">Updated at @DateTime.Now</div>
            </div>
        </div>
    </div>
</div>


<script src="~/vendor/chart.js/Chart.min.js"></script>
<script src="~/js/ProjectQualityScript.js"></script>